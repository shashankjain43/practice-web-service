<div class="container">
    <div class="refund-bg" style="display:none" ng-click="vm.cancel()"></div>
    <div class="row haeding-area"></div>
    <div class="row wrapper" style="margin-top: 50px; min-height:60vh">
        <div class="col-xs-12">
            <div class="row">
                <div class="col-xs-12 ">
                    <div class="row bulk-refund-tab-cont" id="download-refund">
                        <div class="col-sm-4" ng-click="vm.downloadFile()" alt="view-refund" style="cursor: pointer;">
                            <div class="bulk-refund-inner">
                                <img src="assets/images/view-refund.png" width="80px"/>
                                <h4>Download Refund template</h4>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="bulk-refund-inner" id="refund-upload" style="cursor: pointer;">
                                <img src="assets/images/upload-csv.png" width="65px" ng-click="vm.uploadFile()"
                                     alt="view-refund"/>
                                <h4>Upload Refund file</h4></div>
                        </div>
                        <div class="col-sm-4">
                            <div class="bulk-refund-inner" id="bluck-refund" ng-click="vm.getFileDeatails()"
                                 style="cursor: pointer;">
                                <img src="assets/images/view-refund.png" width="80px" alt="view-refund"/>
                                <h4>View Bulk Refund Status</h4></div>
                        </div>

                        <div class="upload-tab-cont col-xs-8 col-xs-push-2">
                            <div class="col-md-12">
                                <h2>Upload File</h2>
                            </div>
                            <!--<input type="text" readonly="" class="form-control" placeholder="Browse...">-->
                            <div class="col-md-12" style="margin-bottom:20px;">
                                <div class="form-group form-control-wrapper">
                                    <div class="col-md-12">
                                        <input type="text" readonly="" class="form-control " id="inputBrowse"
                                               placeholder="Browse...">
                                        <input type="file" id="inputFile"
                                               onchange="angular.element(this).scope().vm.file_changed(this)"
                                               ng-model="vm.fileToUpload">
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-12">
                                <div class="success-msz-box" id="uploadSuccess">
                                    {{vm.uploadSuccessMessage}}
                                </div>
                                <div class="error-msz-box" id="uploadError">
                                    {{vm.uploadErrorMessage}}
                                </div>
                            </div>

                            <div class="col-md-12" ng-show="vm.isShowRefund">
                                <button class="btn orangeBtnBrdr cancelPopup" ng-click="vm.cancel()">Cancel</button>
                                <button ng-click="vm.bulkrefund()" id="uploadButton"
                                        class="btn orangeBtnFill marLeft5 ">Submit
                                </button>

                            </div>
                        </div>

                        <div class="bulk-refund-cont col-xs-8 col-xs-push-2">

                            <div class="row">
                                <h2 style="padding: 15px 27px 0;">Refund Status</h2>

                                <div class="col-xs-12 ">
                                    <a id='downloadFileTag' ng-hide='true'></a>

                                    <div class="error-msz-box" id="listErrorDiv" ng-if="vm.listError!=''">
                                        {{vm.listError}}
                                    </div>
                                    <div class="error-msz-box" id="downloadHistoryFileErrror"
                                         ng-if="vm.downloadHistoryFileErrror!=''">
                                        {{vm.downloadHistoryFileErrror}}
                                    </div>

                                    <table ng-if="vm.listError==''"
                                           class="table  table-hover  table-responsive">
                                        <div class="col-xs-12 " style="padding:0">

                                            <thead>
                                            <tr class="active table-heading">
                                                <td id="{{headers.DISPLAY_VALUE}}" nowrap
                                                    ng-repeat="headers in vm.allDownloadHeader">
                                                    {{headers.DISPLAY_VALUE}}
                                                </td>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr nowrap id="{{downloadData.timestamp}}"
                                                ng-repeat="downloadData in vm.bulkRefunHistoryVM">

                                                <td nowrap ng-repeat="header in vm.downloadHeaderVal">
                                                    <span ng-if="header.KEY == 'fileName'">
                                                     <div>
                                                         {{downloadData[header.KEY]}}
                                                     </div>
                                                  </span>
                                                    <span ng-if="header.KEY == 'timestamp'">{{downloadData[header.KEY] | date:'d MMM yy, h:mm a'}}</span>
                                                     <span ng-if="header.KEY != 'timestamp'&&header.KEY!='fileName'">
                                                        {{downloadData[header.KEY]==true?'Yes':downloadData[header.KEY]==false?'No':downloadData[header.KEY]}}
                                                     </span>
                                                </td>

                                                <td nowrap align="center">
                                                    <input nowrap alt="download" type="image" width="26px"
                                                           height="26px" ng-click="vm.downloadHistoryFile(downloadData)"
                                                           src="assets/images/downloadImage.png">
                                                </td>
                                            </tr>
                                            </tbody>
                                        </div>
                                    </table>

                                </div>
                            </div>


                        </div>

                    </div>

                </div>

            </div>

        </div>

    </div>
</div>
<div id="loadMask" style="display:block" ng-if="vm.isLoading">
    <div class="f-bolt"></div>
</div>

<script>
    $(function () {
        $.material.init();
    });
</script>
