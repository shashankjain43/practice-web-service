<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.snapdeal.ims.dbmapper.IConfigDetailsMapper">

	<resultMap id="result"
		type="com.snapdeal.ims.dbmapper.entity.ConfigDetails">
		<result property="configKey" column="config_key" />
		<result property="configType" column="config_type" />
		<result property="configValue" column="config_value" />
		<result property="description" column="description" />
	</resultMap>

	<sql id="base_column_list">
		config_key,config_type,config_value,description
	</sql>

	<insert id="createConfig" parameterType="com.snapdeal.ims.dbmapper.entity.ConfigDetails">
		INSERT INTO configuration
		(
		<include refid="base_column_list" />
		)
		VALUES
		(#{configKey},#{configType},#{configValue},#{description})
	</insert>

	<update id="updateConfig" parameterType="java.lang.String">
		update configuration set
		config_value=#{configValue}, description=#{description} where
		config_key=#{configKey} and
		config_type=#{configType}
	</update>

	<select id="getAllConfigs" parameterType="java.lang.String"
		resultMap="result">
		SELECT
		<include refid="base_column_list" />
		FROM configuration
	</select>

	<select id="getConfig" parameterType="java.lang.String"
		resultMap="result">
		SELECT
		<include refid="base_column_list" />
		FROM configuration WHERE config_key = #{configKey} and config_type=#{configType}
	</select>

	<select id="getConfigsByKey" parameterType="java.lang.String"
		resultMap="result">
		SELECT
		<include refid="base_column_list" />
		FROM configuration WHERE config_key = #{configKey}
	</select>

	<select id="getConfigsByType" parameterType="java.lang.String"
		resultMap="result">
		SELECT
		<include refid="base_column_list" />
		FROM configuration WHERE config_type = #{configType}
	</select>

	<delete id="deleteConfig" parameterType="java.lang.String">
		DELETE
		FROM configuration
		WHERE config_key = #{configKey} and config_type=#{configType}
	</delete>

</mapper>